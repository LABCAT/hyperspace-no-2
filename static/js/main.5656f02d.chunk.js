(this["webpackJsonphyperspace-no-2"]=this["webpackJsonphyperspace-no-2"]||[]).push([[0],{17:function(e,t,i){},30:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),a=i(9),o=i.n(a),r=(i(17),i(2));window.p5=r;i(19);var d=i(10),c=i(0);function h(){return Object(c.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(c.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(c.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var u=i(11),l=i(12),g=function(){function e(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(u.a)(this,e),this.p=t,this.colour=i,this.size=n,this.innerSize=n,this.currentFrame=0,this.maxSize=a,this.maxSizeReached=!1,this.canDraw=!0,this.setLifeTime(s)}return Object(l.a)(e,[{key:"setLifeTime",value:function(e){this.totalFrames=30*e,this.sizeIncreaser=(this.p.width-this.size)/this.totalFrames}},{key:"update",value:function(){this.canDraw&&(this.size=this.maxSizeReached?this.size-this.sizeIncreaser:this.size+this.sizeIncreaser,this.innerSize=this.innerSize-this.sizeIncreaser,this.canDraw=this.maxSize?this.size>=0:this.size<=this.p.width,this.maxSizeReached||(this.maxSizeReached=this.maxSize&&this.size>=this.maxSize))}},{key:"draw",value:function(){this.canDraw&&(this.p.stroke(this.colour),this.p.noFill(),this.maxSize&&this.p.fill(this.colour),this.p.rect(0,0,this.size,this.size),!this.maxSize&&this.p.rect(0,0,this.innerSize,this.innerSize))}}]),e}(),w=i.p+"static/media/hyperspace-no-2.c7d7aeb5.ogg",p=i.p+"static/media/hyperspace-no-2.7a4b9ed1.mid",f=function(){var e=Object(n.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.tempo=102,e.secondsPerBar=60/e.tempo*4,e.loadMidi=function(){d.Midi.fromUrl(p).then((function(t){console.log(t);var i=t.tracks[0].notes.filter((function(e){return[36,37].includes(e.midi)})),n=t.tracks[4].notes,s=t.tracks[5].notes,a=Object.assign({},t.tracks[7].controlChanges);e.scheduleCueSet(i,"executeCueSet1"),e.scheduleCueSet(n,"executeCueSet2"),e.scheduleCueSet(s,"executeCueSet3"),e.scheduleCueSet(a[Object.keys(a)[0]],"executeCueSet4"),document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out"),e.audioLoaded=!0}))},e.preload=function(){e.song=e.loadSound(w,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,i){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=-1,a=1,o=0;o<t.length;o++){var r=t[o],d=r.ticks,c=r.time;(d!==s||n)&&(r.currentCue=a,e.song.addCue(c,e[i],r),s=d,a++)}},e.rotationOptions=[0,15,30,45,60,75],e.currentRotation=0,e.clockwiseRotation=!0,e.canRotate=!1,e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.grid=e.createGraphics(2*e.canvasWidth,2*e.canvasWidth),e.rectMode(e.CENTER),e.angleMode(e.DEGREES),e.grid.rectMode(e.CENTER),e.frameRate(30),e.strokeWeight(8),e.drawingContext.shadowBlur=32,e.drawingContext.shadowColor="#00ffff"},e.draw=function(){if(e.audioLoaded&&e.song.isPlaying()){e.clear(),e.translate(e.width/2,e.height/2),e.rotate(e.currentRotation),e.image(e.grid,-e.width,-e.height),e.noFill(),e.innerSquareColour&&(e.stroke(e.innerSquareColour),e.rect(0,0,e.width/16,e.width/16));for(var t=0;t<e.bassLineShapes.length;t++){var i=e.bassLineShapes[t];i.draw(),i.update()}e.canRotate&&(e.currentRotation=e.clockwiseRotation?e.currentRotation+1:e.currentRotation-1)}},e.drawGrid=function(t){var i=e.width/16,n=Math.floor(t),s=document.documentElement,a=getComputedStyle(s).getPropertyValue("--grid-colour-"+e.gridVersion),o=e.color(a);e.drawingContext.shadowColor=a,e.grid.clear(),e.grid.strokeWeight(8),e.grid.fill(27,17,77,n),o.setAlpha(n),e.grid.stroke(o),e.grid.rect(e.width,e.height,e.width/16,e.width/16),e.grid.noFill();for(var r=0;r<6;r++)e.grid.line(e.width-i/2+i/6*r,e.height-i/2,0+2*e.width/6*r,e.height-e.width),e.grid.line(e.width+i/2,e.height-i/2+i/6*r,2*e.width,e.height-e.width+2*e.width/6*r),e.grid.line(e.width+i/2-i/6*r,e.height+i/2,2*e.width-2*e.width/6*r,e.height+e.width),e.grid.line(e.width-i/2,e.height+i/2-i/6*r,0,e.height+e.width-2*e.width/6*r);for(var d=0;d<48;d++){var c=e.width/16+e.width/32*d;e.grid.rect(e.width,e.height,c,c)}},e.innerSquareColour=!1,e.executeCueSet1=function(t){var i=t.midi;e.innerSquareColour=36===i?e.color("#1B114D"):e.color("#ff0cb8")},e.bassLineColour=e.color("#f7de74"),e.bassLineShapes=[],e.gridVersion=1,e.executeCueSet2=function(t){var i=t.currentCue,n=e.random(255),s=e.random(255),a=e.random(255),o=e.rotationOptions.slice();if(o.splice(e.rotationOptions.indexOf(e.currentRotation),1),e.currentRotation=e.random(o),e.canRotate=Math.random()<.5,e.clockwiseRotation=Math.random()<.5,e.bassLineColour=e.color(n,s,a),e.bassLineShapes.push(new g(e,e.color(n,s,a,127),e.width/16,e.secondsPerBar/2,e.width/16+e.width/8)),i%6===1){var r=document.documentElement,d=[1,2,3,4,5,6];d.splice(e.gridVersion-1,1),e.gridVersion=e.random(d),r.style.setProperty("--canvas-bg","var(--bg-gradient-"+e.gridVersion+")"),e.drawGrid()}},e.executeCueSet3=function(t){e.bassLineShapes.push(new g(e,e.bassLineColour,e.width/16,e.secondsPerBar/2))},e.executeCueSet4=function(t){var i=t.value,n=e.map(i,.49,1,0,255);i<1&&e.drawGrid(n)},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play()))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(n.useEffect)((function(){new r(t,e.current)}),[]),Object(c.jsx)("div",{ref:e,children:Object(c.jsx)(h,{})})};var m=function(){return Object(c.jsx)(f,{})};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.5656f02d.chunk.js.map